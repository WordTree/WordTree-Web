{"version":3,"file":"index.vue_vue_type_script_lang.mjs","sources":["../../../../../../packages/components/popover/src/index.vue"],"sourcesContent":["<script lang=\"ts\">\nimport {\n  defineComponent,\n  Fragment,\n  createTextVNode,\n  renderSlot,\n  toDisplayString,\n  createCommentVNode,\n  withDirectives,\n  Teleport,\n  h,\n} from 'vue'\nimport { ClickOutside } from '@element-plus/directives'\nimport ElPopper, {\n  popperDefaultProps,\n  Effect,\n  renderArrow,\n  renderPopper,\n  renderTrigger,\n} from '@element-plus/components/popper'\nimport { debugWarn } from '@element-plus/utils/error'\nimport { renderIf, PatchFlags } from '@element-plus/utils/vnode'\nimport usePopover, { SHOW_EVENT, HIDE_EVENT } from './usePopover'\n\nimport type { PropType } from 'vue'\nimport type { TriggerType } from '@element-plus/components/popper'\n\nconst emits = [\n  'update:visible',\n  'after-enter',\n  'after-leave',\n  SHOW_EVENT,\n  HIDE_EVENT,\n]\nconst NAME = 'ElPopover'\n\nconst _hoist = { key: 0, class: 'el-popover__title', role: 'title' }\n\nexport default defineComponent({\n  name: NAME,\n  components: {\n    ElPopper,\n  },\n  props: {\n    ...popperDefaultProps,\n    content: {\n      type: String,\n    },\n    trigger: {\n      type: String as PropType<TriggerType>,\n      default: 'click',\n    },\n    title: {\n      type: String,\n    },\n    transition: {\n      type: String,\n      default: 'fade-in-linear',\n    },\n    width: {\n      type: [String, Number],\n      default: 150,\n    },\n    appendToBody: {\n      type: Boolean,\n      default: true,\n    },\n    tabindex: [String, Number],\n  },\n  emits,\n  setup(props, ctx) {\n    if (props.visible && !ctx.slots.reference) {\n      debugWarn(\n        NAME,\n        `\n        You cannot init popover without given reference\n      `\n      )\n    }\n    const states = usePopover(props, ctx)\n\n    return states\n  },\n  render() {\n    const { $slots } = this\n    const trigger = $slots.reference ? $slots.reference() : null\n\n    const title = renderIf(\n      !!this.title,\n      'div',\n      _hoist,\n      toDisplayString(this.title),\n      PatchFlags.TEXT\n    )\n\n    const content = renderSlot($slots, 'default', {}, () => [\n      createTextVNode(toDisplayString(this.content), PatchFlags.TEXT),\n    ])\n\n    const {\n      events,\n      onAfterEnter,\n      onAfterLeave,\n      onPopperMouseEnter,\n      onPopperMouseLeave,\n      popperStyle,\n      popperId,\n      popperClass,\n      showArrow,\n      transition,\n      visibility,\n      tabindex,\n    } = this\n\n    const kls = [\n      this.content ? 'el-popover--plain' : '',\n      'el-popover',\n      popperClass,\n    ].join(' ')\n\n    const popover = renderPopper(\n      {\n        effect: Effect.LIGHT,\n        name: transition,\n        popperClass: kls,\n        popperStyle,\n        popperId,\n        visibility,\n        onMouseenter: onPopperMouseEnter,\n        onMouseleave: onPopperMouseLeave,\n        onAfterEnter,\n        onAfterLeave,\n        stopPopperMouseEvent: false,\n      },\n      [title, content, renderArrow(showArrow)]\n    )\n\n    // when user uses popover directively, trigger will be null so that we only\n    // render a popper window for displaying contents\n    const _trigger = trigger\n      ? renderTrigger(trigger, {\n          ariaDescribedby: popperId,\n          ref: 'triggerRef',\n          tabindex,\n          ...events,\n        })\n      : createCommentVNode('v-if', true)\n\n    return h(Fragment, null, [\n      this.trigger === 'click'\n        ? withDirectives(_trigger, [[ClickOutside, this.hide]])\n        : _trigger,\n      h(\n        Teleport as any,\n        {\n          disabled: !this.appendToBody,\n          to: 'body',\n        },\n        [popover]\n      ),\n    ])\n  },\n})\n</script>\n"],"names":["ElPopper"],"mappings":";;;;;;;;;;;;AA2BA,MAAM,QAAQ;AAAA,EACZ;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA;AAEF,MAAM,OAAO;AAEb,MAAM,SAAS,EAAE,KAAK,GAAG,OAAO,qBAAqB,MAAM;AAE3D,aAAe,gBAAgB;AAAA,EAC7B,MAAM;AAAA,EACN,YAAY;AAAA,cACVA;AAAA;AAAA,EAEF,OAAO;AAAA,OACF;AAAA,IACH,SAAS;AAAA,MACP,MAAM;AAAA;AAAA,IAER,SAAS;AAAA,MACP,MAAM;AAAA,MACN,SAAS;AAAA;AAAA,IAEX,OAAO;AAAA,MACL,MAAM;AAAA;AAAA,IAER,YAAY;AAAA,MACV,MAAM;AAAA,MACN,SAAS;AAAA;AAAA,IAEX,OAAO;AAAA,MACL,MAAM,CAAC,QAAQ;AAAA,MACf,SAAS;AAAA;AAAA,IAEX,cAAc;AAAA,MACZ,MAAM;AAAA,MACN,SAAS;AAAA;AAAA,IAEX,UAAU,CAAC,QAAQ;AAAA;AAAA,EAErB;AAAA,EACA,MAAM,OAAO,KAAK;AAChB,QAAI,MAAM,WAAW,CAAC,IAAI,MAAM,WAAW;AACzC,gBACE,MACA;AAAA;AAAA;AAAA;AAKJ,UAAM,SAAS,WAAW,OAAO;AAEjC,WAAO;AAAA;AAAA,EAET,SAAS;AACP,UAAM,EAAE,WAAW;AACnB,UAAM,UAAU,OAAO,YAAY,OAAO,cAAc;AAExD,UAAM,QAAQ,SACZ,CAAC,CAAC,KAAK,OACP,OACA,QACA,gBAAgB,KAAK,QACrB,WAAW;AAGb,UAAM,UAAU,WAAW,QAAQ,WAAW,IAAI,MAAM;AAAA,MACtD,gBAAgB,gBAAgB,KAAK,UAAU,WAAW;AAAA;AAG5D,UAAM;AAAA,MACJ;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,QACE;AAEJ,UAAM,MAAM;AAAA,MACV,KAAK,UAAU,sBAAsB;AAAA,MACrC;AAAA,MACA;AAAA,MACA,KAAK;AAEP,UAAM,UAAU,aACd;AAAA,MACE,QAAQ,OAAO;AAAA,MACf,MAAM;AAAA,MACN,aAAa;AAAA,MACb;AAAA,MACA;AAAA,MACA;AAAA,MACA,cAAc;AAAA,MACd,cAAc;AAAA,MACd;AAAA,MACA;AAAA,MACA,sBAAsB;AAAA,OAExB,CAAC,OAAO,SAAS,YAAY;AAK/B,UAAM,WAAW,UACb,cAAc,SAAS;AAAA,MACrB,iBAAiB;AAAA,MACjB,KAAK;AAAA,MACL;AAAA,SACG;AAAA,SAEL,mBAAmB,QAAQ;AAE/B,WAAO,EAAE,UAAU,MAAM;AAAA,MACvB,KAAK,YAAY,UACb,eAAe,UAAU,CAAC,CAAC,cAAc,KAAK,UAC9C;AAAA,MACJ,EACE,UACA;AAAA,QACE,UAAU,CAAC,KAAK;AAAA,QAChB,IAAI;AAAA,SAEN,CAAC;AAAA;AAAA;AAAA;;;;"}